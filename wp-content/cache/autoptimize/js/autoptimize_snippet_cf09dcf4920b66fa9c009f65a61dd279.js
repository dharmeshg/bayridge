"use strict";var slide_params;if(!Object.create){Object.create=(function(){var fun;function F(){}
return function(o){if(arguments.length!==1){throw new Error('This Object.create implementation only accepts one parameter.');}
F.prototype=o;fun=new F();return fun;};}());}
var tabSlideTemplate={init:function(){var tabSlide,settings,toggleParams,$tS,slide_params;tabSlide=this;this.settings={};this.settings=this.instance_options;settings=this.settings;this.setOptions();toggleParams={};toggleParams['margin-'+settings.tab_position]='0px';this.drawShelf();this.initResize();if(settings.show_on_load==true&&settings.showing==true){jQuery(settings.toggleEl).css(toggleParams);if(settings.enable_timer==true){setTimeout(function(){if(settings.fullscreen){jQuery(settings.toggleEl).css(settings.tab_position,-(parseInt(settings.tab_width,10)+parseInt(settings.border_size,10))+'px');}
tabSlide.makeItSlide();settings.showing=false;},settings.timer*1000);}else if(settings.tab_type=='image'||settings.tab_type=='custom'){tabSlide.regenerateTab("closed");}}else{if(settings.enable_open_timer==true){setTimeout(function(){tabSlide.makeItSlide();settings.showing=true;},settings.timer*1000);}else if(settings.tab_type=='image'||settings.tab_type=='custom'){$tS=jQuery(settings.shelfEl);slide_params=[];slide_params[settings.tab_slide_position]=settings.calc_width;$tS.animate(slide_params,1,settings.animation_ease,this.regenerateTab.apply(tabSlide,["opened"]));}else{jQuery(settings.shelfEl).css(settings.tab_slide_position,settings.calc_width+'px');tabSlide.regenerateTab("opened");}}},setOptions:function(){var settings;settings=this.settings;settings.id="";settings.shelfId='tab_slide'+settings.id;settings.shelfEl='#'+settings.shelfId;settings.shelfClass='tab_slide'+settings.id+' tab_slide_wrapper'+settings.id;settings.showing=settings.show_on_load;settings.toggleId='tab_toggle'+settings.id;settings.toggleEl='#'+settings.toggleId;settings.toggleBgId='tab_toggle_bg'+settings.id;settings.customEl=settings.tab_element;settings.animation_ease='swing';settings.animation_speed=settings.animation_speed*1000;settings.animation_closing_speed=settings.animation_closing_speed*1000;settings.fullscreen=settings.open_width=="100"&&settings.window_unit=='%'?true:false;settings.border_size=isNaN(settings.border_size)?parseInt(0,10):settings.border_size;settings.border_size=settings.borders!=1?parseInt(0,10):settings.border_size;settings.width=settings.window_unit=='%'?settings.open_width/100*jQuery(window).width():settings.open_width;settings.calc_width=-(parseInt(settings.width,10)+parseInt(settings.border_size,10));settings.tab_position=settings.tab_slide_position=='right'?'left':'right';},drawShelf:function(){var shelf,settings,contentEl,includeEl,classReset,titleWrapDiv,open_v,close_v,$j,height;settings=this.settings;contentEl="#tab_slide_content"+settings.id;includeEl="#tab_slide_include"+settings.id;if(jQuery(includeEl).length){classReset=settings.shelfClass;if(settings.show_on_load){classReset=classReset+' reset_'+settings.tab_slide_position+settings.id;}
if(settings.tab_type=='image'||settings.tab_type=='custom'){shelf="<div id='"+settings.shelfId+"' class='"+classReset+"'>"
+"<div id='"+settings.toggleId+"'><div id='tab_toggle_bg"+settings.id+"' style='top:0px'></div></div></div>";}else{shelf='<div id="'+settings.shelfId+'" class="'+classReset+'">'+"<div id='"+settings.toggleId+"'></div></div>";}
jQuery('body').prepend(shelf);height=settings.open_height=="auto"?settings.open_height:settings.open_height+settings.window_unit;jQuery(settings.shelfEl).css({'height':height,'top':settings.open_top+'%','width':settings.open_width+settings.window_unit}).append("<div id='tab_slide_content"+settings.id+"'></div>");jQuery(includeEl).css('display','block');jQuery(includeEl).appendTo(contentEl);jQuery(contentEl).append("<div id='tab_slide_background"+settings.id+"' class='tab_slide_corners_"+settings.tab_position+settings.id+"'></div>");if(settings.tab_type=='text'){jQuery(settings.toggleEl).addClass('tab_text_bg'+settings.id);if(jQuery.browser.msie){open_v='';for($j=0;$j<settings.tab_title_open.length;$j++){if((settings.tab_title_open[$j])){open_v+="<span class='newline'>"+settings.tab_title_open[$j]+"</span>";}}
close_v='';for($j=0;$j<settings.tab_title_close.length;$j++){if((settings.tab_title_close[$j])){close_v+="<span class='newline'>"+settings.tab_title_close[$j]+"</span>";}}
if(settings.show_on_load){titleWrapDiv="<div id='tab_title_wrap"+settings.id+"' class='tab_title"+settings.id+" open_letter_reset"+settings.id+"'>"+close_v+"</div>";}else{titleWrapDiv="<div id='tab_title_wrap"+settings.id+"' class='tab_title"+settings.id+" close_letter_reset"+settings.id+" '>"+open_v+"</div>";}}else{if(settings.show_on_load){titleWrapDiv="<div id='tab_title_wrap"+settings.id+"' class='close_letter_reset"+settings.id+"'><span class='tab_title"+settings.id+"'>"+settings.tab_title_close+"</span></div>";}else{titleWrapDiv="<div id='tab_title_wrap"+settings.id+"' class='open_letter_reset"+settings.id+"'><span class='tab_title"+settings.id+"'>"+settings.tab_title_open+"</span></div>";}
jQuery(settings.toggleEl).append(titleWrapDiv);}
jQuery(settings.toggleEl).addClass('tab_text_'+settings.tab_position+settings.id);}}},initResize:function(){var tabSlide=this;tabSlide.resize();jQuery(window).resize(function(){tabSlide.resize();});},resize:function(){var settings,$tS,showing;settings=this.settings;$tS=jQuery(settings.shelfEl);showing=settings.showing=='1'?true:false;if(settings.showing==0){$tS.css(settings.tab_slide_position,settings.calc_width+'px');}else{$tS.css(settings.tab_slide_position,0);}},makeItSlide:function(){var tabSlide,settings,toggleBgEl,$tS,slide_params,toggleParams;tabSlide=this;settings=this.settings;toggleBgEl='#'+settings.toggleBgId;$tS=jQuery(settings.shelfEl);slide_params=[];toggleParams=[];if(settings.showing==true){if(settings.fullscreen){jQuery(settings.toggleEl).css(settings.tab_position,-(parseInt(settings.tab_width,10)+parseInt(settings.border_size,10))+'px');}
slide_params[settings.tab_slide_position]=settings.calc_width;$tS.animate(slide_params,settings.animation_closing_speed,settings.animation_ease,this.regenerateTab.apply(tabSlide,["opened"]));settings.showing=false;}else{if(settings.fullscreen){jQuery(settings.toggleEl).css(settings.tab_position,'0px');}
jQuery(toggleBgEl).fadeOut(100,function(){slide_params[settings.tab_slide_position]='0px';$tS.animate(slide_params,settings.animation_speed,settings.animation_ease);jQuery(settings.toggleEl).css(toggleParams);tabSlide.regenerateTab.apply(tabSlide,["closed"]);});if(jQuery('#tab_title_wrap'+settings.id).length){slide_params[settings.tab_slide_position]='0px';$tS.animate(slide_params,settings.animation_speed,settings.animation_ease);tabSlide.regenerateTab.apply(tabSlide,["closed"]);}
settings.showing=true;}},registerEvents:function(){var tabSlide,settings,$tS;settings=this.settings;tabSlide=this;$tS=jQuery(settings.shelfEl);jQuery(settings.toggleEl).click(function(){var move=tabSlide.makeItSlide;move.apply(tabSlide,null);});if('scroll'===settings.tab_type){jQuery(window).scroll(function(){var slide_params=new Array();var wintop=jQuery(window).scrollTop(),docheight=jQuery(document).height(),winheight=jQuery(window).height();var scrollTriggerStart=parseInt(settings.scroll_percentage_start,10)/100;var scrollTriggerEnd=parseInt(settings.scroll_percentage_end,10)/100;if((wintop/(docheight-winheight))>=scrollTriggerStart&&scrollTriggerEnd>=(wintop/(docheight-winheight))){if(!settings.showing){slide_params[settings.tab_slide_position]='0px';$tS.animate(slide_params,settings.animation_speed,settings.animation_ease);settings.showing=true;}}else if(settings.showing){slide_params[settings.tab_slide_position]=settings.calc_width;$tS.animate(slide_params,settings.animation_closing_speed,settings.animation_ease);settings.showing=false;}});}else if('custom'===settings.tab_type&&jQuery(settings.customEl).length!=0){jQuery(settings.customEl).click(function(){var move=tabSlide.makeItSlide;move.apply(tabSlide,null);});}},regenerateTab:function(currentState){var settings,classToggle,tab_title,toggleParams,tab_title_ie,select,j,margin_reset;settings=this.settings;toggleParams=[];function spanify(title){tab_title_ie='';for(j=0;j<title.length;j++){if((title[j])){tab_title_ie+="<span class='newline'>"+title[j]+"</span>";}}
return tab_title_ie;}
switch(currentState){case"opened":classToggle="<div id='tab_toggle_bg"+settings.id+"' class='open_action"+settings.id+" reset_"+settings.tab_slide_position+settings.id+"'>";tab_title=settings.tab_title_open;tab_title_ie=spanify(settings.tab_title_open);margin_reset='open_letter_reset'+settings.id;break;case"autohide":classToggle="<div id='tab_toggle_bg"+settings.id+"' class='open_action"+settings.id+" reset_"+settings.tab_slide_position+settings.id+"'></div>";tab_title=settings.tab_title_open;tab_title_ie=spanify(settings.tab_title_open);margin_reset='open_letter_reset'+settings.id;break;case"closed":classToggle="<div id='tab_toggle_bg"+settings.id+"' class='closed_action"+settings.id+" reset_"+settings.tab_position+settings.id+" float_"+settings.tab_position+settings.id+"' ></div>";tab_title=settings.tab_title_close;tab_title_ie=spanify(settings.tab_title_close);margin_reset='close_letter_reset'+settings.id;break;}
if(settings.tab_type=='image'||settings.tab_type=='custom'){jQuery('.open_action'+settings.id).addClass(".reset_"+settings.tab_position+settings.id);jQuery('#tab_toggle_bg'+settings.id).replaceWith(classToggle);jQuery('#tab_toggle_bg'+settings.id).css(settings.tab_slide_position,0).hide().fadeIn();jQuery('.closed_action'+settings.id).css('float',settings.tab_position);}else if(jQuery.browser.msie){jQuery('#tab_title_wrap'+settings.id).replaceWith("<div id='tab_title_wrap"+settings.id+"'><span class='tab_title"+settings.id+"'></span></div>");jQuery('#tab_title_wrap'+settings.id+' span').replaceWith("<span class='tab_title"+settings.id+"'>"+tab_title_ie+'</span>');jQuery('#tab_title_wrap'+settings.id).toggleClass().toggleClass(margin_reset);}else{jQuery('#tab_title_wrap'+settings.id+' span').replaceWith("<span class='tab_title"+settings.id+"'>"+tab_title+'</span>');jQuery('#tab_title_wrap'+settings.id).toggleClass().toggleClass(margin_reset);if(currentState!="closed"){jQuery('#tab_title_wrap'+settings.id).css("'margin-"+settings.tab_position+"'",(jQuery('#tab_toggle'+settings.id).outerHeight(true)-jQuery('.tab_title'+settings.id).outerHeight(true))/2+'px');}}
if(currentState!="closed"){jQuery(settings.toggleEl).css(toggleParams);}
if(!jQuery.browser.msie){select=window.getSelection();select.removeAllRanges();}}};function getTabSlide(proto,props){var o,p;o=Object.create(proto);for(p in props){if(props.hasOwnProperty(p)){o[p]=props[p];}}
return o;}
jQuery(document).ready(function(){var json_str,allOptions,tabSlide;json_str=j_options.j_options.replace(/&quot;/g,'"');allOptions=jQuery.parseJSON(json_str);tabSlide=getTabSlide(tabSlideTemplate,{'instance_options':allOptions});tabSlide.init();tabSlide.registerEvents();});